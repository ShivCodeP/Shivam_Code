<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie</title>
</head>
<body>
    
    <h1>Search Movie</h1>
    <input type="text" id="movie" placeholder="Enter Movie Name" />
    <button onclick="showDetail()">Search</button>
    <div id="details"></div>
     
</body>
</html>

    <script>
        
        let container = document.getElementById('details');

        async function showDetail() {

            let movie = document.getElementById('movie').value;

            let res = await fetch(`https://www.omdbapi.com/?t=${movie}&apikey=4b125d6`)
            
            let data = await res.json();
            
            console.log(data);
            
            showmovie(data);
        }

        function showmovie(data) {
            container.innerHTML = null;
        
            let div = document.createElement('div');
            div.className = "box";
            if(data.Error == 'Movie not found!') {
                let error = document.createElement('img');
                error.src = "https://c.tenor.com/TUJ_WGkQ6pcAAAAC/dog-computer.gif";
                div.append(error);
                container.append(div);
            }
            else {
                let poster = document.createElement('img');
                poster.src = data.Poster;
                
                let date = document.createElement('p');
                date.innerHTML = "Released Date: " + data.Released;
                
                let title = document.createElement('h2');
                title.innerHTML =  data.Title;
                
                let actor = document.createElement('p');
                actor.innerHTML = "Actors: " + data.Actors;
                
                let director = document.createElement('p');
                director.innerHTML = "Director: " + data.Director;
                
                let rate = document.createElement('p');
                if(data.Ratings.length == 1) {
                    rate.innerText = "imdb Rating: " + data.Ratings[0].Value;
                    if(data.Ratings[0].Value.split("/").map(Number)[0] > 8.5) {
                       let rec = document.createElement('strong');
                       rec.innerHTML = " Recommended";
                       rec.style.color = "green";
                       rec.style.margin = "20px";
                       rate.append(rec);
                    }
                }
                else {
                    rate.innerHTML = "imdb Rating: " + data.imdbRating + '/' + 10;
                    if(Number(data.imdbRating) > 8.5) {
                        let rec = document.createElement('strong');
                        rec.innerHTML = " Recommended";
                        rec.style.color = "green";
                        rec.style.margin = "20px";
                        rate.append(rec);
                    }
                }
                
    
                div.append(poster,title,actor,director,date,rate);
                container.append(div);

            }
        }
        
        

    </script>